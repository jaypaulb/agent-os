# Orchestration Schema
# This file is generated by /orchestrate-tasks in headless mode
# It contains work assignments for all organisms

# Schema definition
$schema: http://json-schema.org/draft-07/schema#
description: Work assignments from orchestrate-tasks headless mode

# Expected structure:
beads:
  - id: string              # Organism ID (e.g., bd-org-123)
    title: string           # Organism title
    type: string            # Organism type (database-layer, api-layer, ui-component, etc.)
    assignee: string        # Specialized agent type
    status: string          # todo, in_progress, completed, failed, blocked
    dependencies: array     # List of organism IDs this depends on
    priority: integer       # Priority score (1-10)
    labels: array           # Beads labels
    estimated_complexity: string  # low, medium, high
    files_to_modify: array  # Predicted file paths

# Execution tracks (from BV)
tracks:
  - id: integer            # Track number (1-N)
    organisms: array       # Organism IDs in this track
    parallel_safe: boolean # Can organisms in this track run in parallel?
    total_organisms: integer

# BV insights
insights:
  bottlenecks: array      # High-betweenness organisms
  keystones: array        # High-impact organisms
  influencers: array      # High-dependency organisms
  cycles: array           # Circular dependencies (should be empty)

# Example:
# beads:
#   - id: bd-org-123
#     title: User model
#     type: database-layer
#     assignee: database-layer-builder
#     status: todo
#     dependencies: []
#     priority: 10
#     labels:
#       - database
#       - phase-1
#     estimated_complexity: medium
#     files_to_modify:
#       - src/organisms/models/User.js
#       - src/organisms/migrations/001_create_users.js
#
#   - id: bd-org-124
#     title: Auth endpoints
#     type: api-layer
#     assignee: api-layer-builder
#     status: todo
#     dependencies:
#       - bd-org-123
#     priority: 9
#     labels:
#       - api
#       - phase-1
#     estimated_complexity: high
#     files_to_modify:
#       - src/organisms/controllers/AuthController.js
#       - src/organisms/routes/auth.js
#
# tracks:
#   - id: 1
#     organisms:
#       - bd-org-123
#       - bd-org-124
#       - bd-org-125
#     parallel_safe: false  # Sequential dependencies
#     total_organisms: 3
#
# insights:
#   bottlenecks:
#     - id: bd-org-123
#       betweenness: 8.5
#       blocks: 7
#   keystones: []
#   influencers: []
#   cycles: []
